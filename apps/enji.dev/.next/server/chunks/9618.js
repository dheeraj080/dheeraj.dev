"use strict";exports.id=9618,exports.ids=[9618],exports.modules={2173:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=a(997),n=a(8103),l=a.n(n),r=a(6197),c=a(968),o=a.n(c),d=a(6362),m=a.n(d),x=a(6689),h=e([r]);function randomBetween(e,t){return Math.random()*(t-e)+e}r=(h.then?(await h)():h)[0];let u={initial:{scale:1},hover:{scale:1.2},tap:{scale:.8}},__WEBPACK_DEFAULT_EXPORT__=function({title:e,disabled:t=!1,defaultImage:a,animatedImage:s,disabledImage:n,onClick:c=()=>{}}){let[d,h]=(0,x.useState)([]),[f,p]=(0,x.useState)(t?n:a);return(0,x.useEffect)(()=>{t&&p(n)},[t,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[i.jsx("link",{rel:"preload",as:"image",href:s}),i.jsx("link",{rel:"preload",as:"image",href:n})]}),(0,i.jsxs)(r.m.button,{disabled:t,title:e,"aria-label":e,className:l()("relative cursor-pointer select-none",[t&&"cursor-not-allowed"]),whileTap:!t&&"tap",whileHover:"hover",onHoverStart:()=>{t?p(n):p(s)},onHoverEnd:()=>{t?p(n):p(a)},onClick:()=>{t||(h(e=>[...e,function(){let e=randomBetween(0,1e3),t=randomBetween(-40,40),a=randomBetween(-230,-170),s=randomBetween(1.6,1.9)+a/1e3;return{x:[0,t-randomBetween(-10,10),t],y:a,duration:s,key:e}}()]),c())},children:[d.map(({x:t,y:a,duration:n,key:c})=>i.jsx(r.m.div,{className:"pointer-events-none absolute h-10 w-10 select-none",initial:{y:0,x:0,opacity:1},animate:{x:t,y:a,opacity:[1,1,0]},transition:{ease:"easeOut",duration:n},onAnimationComplete:()=>{h(e=>e.filter(e=>e.key!==c))},children:i.jsx(m(),{className:l()("h-full w-full"),alt:e,src:s,width:48,height:48,unoptimized:!0,priority:!0})},c)),i.jsx(r.m.div,{className:l()("h-10 w-10"),variants:u,children:i.jsx(m(),{className:l()("pointer-events-none h-full w-full"),alt:e,src:f,width:48,height:48,unoptimized:!0,priority:!0})})]})]})};s()}catch(e){s(e)}})},5107:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=a(997),n=a(5518),l=a(8103),r=a.n(l),c=a(6197),o=a(8993),d=a(8374),m=e([c]);c=(m.then?(await m)():m)[0];let x={hide:{opacity:0,y:16},show:{opacity:1,y:0,transition:{duration:.18}}},__WEBPACK_DEFAULT_EXPORT__=function({views:e,shares:t,reactions:a}){return i.jsx(n.J,{children:({open:s})=>(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.J.Button,{title:"Insight","aria-label":"Insight",className:r()("relative z-10 flex h-10 w-10 items-center justify-center rounded-full","hover:bg-slate-200 hover:dark:bg-[#1d263a]",[s&&["bg-slate-200","dark:bg-[#1d263a]"]]),children:i.jsx(o.ek,{className:r()("h-5 w-5")})}),s&&(0,i.jsxs)(n.J.Panel,{static:!0,as:c.m.div,variants:x,initial:"hide",animate:"show",className:r()("border-divider-light absolute inset-x-2 bottom-24 z-[902] flex flex-col overflow-hidden rounded-2xl border bg-white/70 pb-2 pt-1 backdrop-blur","dark:border-divider-dark dark:bg-slate-900/80"),children:[i.jsx("div",{className:r()("px-4 py-3 text-center text-[13px] text-lg font-bold"),children:"Insight"}),(0,i.jsxs)("div",{className:r()("flex justify-evenly py-2 text-sm"),children:[(0,i.jsxs)("div",{className:r()("flex flex-col items-center gap-1"),children:[i.jsx("div",{children:"Views"}),i.jsx("div",{className:r()("font-mono text-xl"),children:(0,d.uf)(e)})]}),(0,i.jsxs)("div",{className:r()("flex flex-col items-center gap-1"),children:[i.jsx("div",{children:"Shares"}),i.jsx("div",{className:r()("font-mono text-xl"),children:(0,d.uf)(t)})]}),(0,i.jsxs)("div",{className:r()("flex flex-col items-center gap-1"),children:[i.jsx("div",{children:"Reactions"}),i.jsx("div",{className:r()("font-mono text-xl"),children:(0,d.uf)(a)})]})]})]})]})})};s()}catch(e){s(e)}})},9256:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=a(997),n=a(8103),l=a.n(n),r=a(6197),c=a(5557),o=a(6689),d=a(2173),m=a(5107),x=a(3463),h=a(7222),u=a(1786),f=a(3547),p=e([r,d,m,x,h]);function Counter({count:e}){let t=(0,r.useAnimationControls)();return(0,o.useEffect)(()=>{let startMotion=async()=>{await t.start({y:[-20,0],transition:{duration:.18}})};0!==e&&startMotion()},[e,t]),0===e?i.jsx("span",{className:l()("flex flex-col font-mono text-sm"),children:i.jsx("span",{className:l()("flex h-5 items-center font-mono text-sm font-bold text-slate-600","dark:text-slate-300"),children:"0"})}):(0,i.jsxs)(r.m.span,{className:l()("flex flex-col font-mono text-sm font-bold text-slate-600","dark:text-slate-300"),animate:t,children:[i.jsx("span",{className:l()("flex h-5 items-center"),children:"\xa0"}),i.jsx("span",{className:l()("flex h-5 items-center"),children:e}),i.jsx("span",{className:l()("flex h-5 items-center"),children:e-1})]})}function ReactionCounter({count:e,children:t=null}){return(0,i.jsxs)("div",{className:l()("relative flex h-6 items-center gap-1 overflow-hidden rounded-full bg-slate-200 px-2 py-1","dark:bg-[#1d263a]"),children:[t,i.jsx(Counter,{count:e})]})}[r,d,m,x,h]=p.then?(await p)():p;let __WEBPACK_DEFAULT_EXPORT__=function({contentType:e,contentTitle:t,withCountView:a=!0}){let{pathname:s}=(0,c.useRouter)(),n=s.split("/").reverse()[0],{currentSection:p}=(0,u.Z)(),{isLoading:v,data:{meta:{views:j,shares:g,reactions:_,reactionsDetail:{THINKING:w,CLAPPING:b,AMAZED:N}},metaUser:{reactionsDetail:y}},addShare:E,addReaction:A}=(0,h.Z)({slug:n,contentType:e,contentTitle:t,countView:a}),C=f.hx-y.CLAPPING,k=f.hx-y.THINKING,T=f.hx-y.AMAZED,I=(0,r.useAnimationControls)();return(0,o.useEffect)(()=>{v||I.start({y:0,opacity:1,pointerEvents:"auto",transition:{delay:.24,duration:.18}})},[v,I]),(0,i.jsxs)(r.m.div,{className:l()("border-divider-light pointer-events-auto relative flex items-center justify-between rounded-xl border p-4","dark:border-divider-dark"),initial:{y:16,opacity:0,pointerEvents:"none"},animate:I,children:[i.jsx("div",{className:l()("absolute inset-0 rounded-xl bg-white/70 backdrop-blur","dark:bg-slate-900/80")}),(0,i.jsxs)("div",{className:l()("flex items-center gap-4"),children:[(0,i.jsxs)("div",{className:l()("flex flex-col items-center gap-2"),children:[i.jsx(d.Z,{disabled:C<=0,title:"Claps",defaultImage:"/assets/emojis/clapping-hands.png",animatedImage:"/assets/emojis/clapping-hands-animated.png",disabledImage:"/assets/emojis/love-you-gesture.png",onClick:()=>{A({type:"CLAPPING",section:p})}}),i.jsx(ReactionCounter,{count:b})]}),(0,i.jsxs)("div",{className:l()("flex flex-col items-center gap-2"),children:[i.jsx(d.Z,{disabled:T<=0,title:"Wow",defaultImage:"/assets/emojis/astonished-face.png",animatedImage:"/assets/emojis/astonished-face-animated.png",disabledImage:"/assets/emojis/star-struck.png",onClick:()=>{A({type:"AMAZED",section:p})}}),i.jsx(ReactionCounter,{count:N})]}),(0,i.jsxs)("div",{className:l()("flex flex-col items-center gap-2"),children:[i.jsx(d.Z,{disabled:k<=0,title:"Hmm",defaultImage:"/assets/emojis/face-with-monocle.png",animatedImage:"/assets/emojis/face-with-monocle-animated.png",disabledImage:"/assets/emojis/nerd-face.png",onClick:()=>{A({type:"THINKING",section:p})}}),i.jsx(ReactionCounter,{count:w})]})]}),(0,i.jsxs)("div",{className:l()("flex items-start gap-2"),children:[i.jsx("div",{className:l()("flex flex-col items-center gap-2"),children:i.jsx(m.Z,{views:j,shares:g,reactions:_})}),(0,i.jsxs)("div",{className:l()("flex flex-col items-center gap-2"),children:[i.jsx(x.Z,{onItemClick:e=>{E({type:e})}}),i.jsx(ReactionCounter,{count:g})]})]})]})};s()}catch(e){s(e)}})},3463:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=a(997),n=a(7430),l=a(8103),r=a.n(l),c=a(6197),o=a(6689),d=a(8993),m=a(742),x=e([c]);c=(x.then?(await x)():x)[0];let h=(0,o.forwardRef)(({active:e,children:t,onClick:a},s)=>i.jsx("button",{type:"button",ref:s,className:r()("flex w-full items-center gap-3 px-4 py-2 text-[13px]",["hover:bg-slate-100","hover:dark:bg-[#1d263a]"],[e&&["bg-slate-100","dark:bg-[#1d263a]"]]),onClick:a,children:t})),u=(0,o.forwardRef)(({href:e,active:t,onClick:a,children:s},n)=>i.jsx("a",{ref:n,href:e,onClick:a,target:"_blank",rel:"noreferrer nofollow",className:r()("flex w-full items-center gap-3 px-4 py-2 text-[13px]",["hover:bg-slate-100","hover:dark:bg-[#1d263a]"],[t&&["bg-slate-100","dark:bg-[#1d263a]"]]),children:s})),f={hide:{opacity:0,y:16},show:{opacity:1,y:0,transition:{duration:.18}}},__WEBPACK_DEFAULT_EXPORT__=function({onItemClick:e=()=>{}}){let t=(0,m.Z)(),handleCopy=async()=>{try{await navigator.clipboard.writeText(t),e("CLIPBOARD")}catch(e){}},handleTwitter=()=>{e("TWITTER")};return i.jsx(n.v,{children:({open:e})=>(0,i.jsxs)(i.Fragment,{children:[i.jsx(n.v.Button,{title:"Share","aria-label":"Share",className:r()("relative z-10 flex h-10 w-10 items-center justify-center rounded-full bg-slate-200","dark:bg-[#1d263a]"),children:i.jsx(d.aA,{className:r()("h-5 w-5")})}),e&&(0,i.jsxs)(n.v.Items,{static:!0,as:c.m.div,variants:f,initial:"hide",animate:"show",className:r()("border-divider-light absolute bottom-24 right-2 z-[902] flex w-56 flex-col overflow-hidden rounded-2xl border bg-white/70 pb-2 pt-1 backdrop-blur","dark:border-divider-dark dark:bg-slate-900/80"),children:[i.jsx("div",{className:r()("px-4 py-3 text-center text-[13px] text-lg font-bold"),children:"Share this on"}),i.jsx(n.v.Item,{children:({active:e})=>(0,i.jsxs)(u,{active:e,href:`https://twitter.com/intent/tweet?via=enjidev&url=${t}`,onClick:handleTwitter,children:[i.jsx(d.Zm,{className:r()("h-4 w-4")}),(0,i.jsxs)("span",{className:r()("flex items-center gap-2"),children:["Twitter",i.jsx(d.dL,{className:r()("h-3 w-3")})]})]})}),i.jsx("div",{className:r()("border-divider-light my-2 border-t","dark:border-divider-dark")}),i.jsx(n.v.Item,{children:({active:e})=>(0,i.jsxs)(h,{active:e,onClick:handleCopy,children:[i.jsx(d.Zi,{className:r()("h-4 w-4")}),"Copy link"]})})]})]})})};s()}catch(e){s(e)}})},9618:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var i=a(997),n=a(8103),l=a.n(n),r=a(3419),c=a(9256),o=e([c]);c=(o.then?(await o)():o)[0];let __WEBPACK_DEFAULT_EXPORT__=function(e){return i.jsx("div",{className:l()("pointer-events-none sticky bottom-8 z-[902] mt-16","lg:bottom-8 lg:mt-24","fm:static"),children:i.jsx(r.Z,{children:i.jsx("div",{className:l()("mx-auto max-w-[360px] px-4","sm:max-w-[420px] sm:px-0"),children:i.jsx(c.Z,{...e})})})})};s()}catch(e){s(e)}})},3419:(e,t,a)=>{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(997),i=a(8103),n=a.n(i);let __WEBPACK_DEFAULT_EXPORT__=function({children:e=null}){return s.jsx("div",{className:n()("content-wrapper"),children:(0,s.jsxs)("div",{className:n()("flex flex-row-reverse gap-8","xl:gap-24"),children:[s.jsx("div",{className:n()("-mt-48 hidden","lg:block"),children:s.jsx("div",{className:n()("w-64","xl:w-[272px]")})}),s.jsx("div",{className:n()("min-w-0 flex-1"),children:e}),s.jsx("div",{className:n()("hidden","lg:block")})]})})}},3547:(e,t,a)=>{a.d(t,{hx:()=>s});let s=15},1110:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{CB:()=>postReaction,CT:()=>postView,_:()=>postShare});var i=a(9648),n=e([i]);i=(n.then?(await n)():n)[0];let postReaction=async({slug:e,contentType:t,contentTitle:a,type:s,count:n,section:l})=>{try{await i.default.post(`/api/reactions/${e}`,{contentType:t,contentTitle:a,type:s,count:n,section:l})}catch(e){}},postShare=async({slug:e,contentType:t,contentTitle:a,type:s})=>{try{await i.default.post(`/api/shares/${e}`,{contentType:t,contentTitle:a,type:s})}catch(e){}},postView=async({slug:e,contentType:t,contentTitle:a})=>{try{await i.default.post(`/api/views/${e}`,{contentType:t,contentTitle:a})}catch(e){}};s()}catch(e){s(e)}})},7222:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>useInsight});var i=a(1831),n=a.n(i),l=a(6689),r=a(5941),c=a(6482),o=a(1110),d=e([r,o]);[r,o]=d.then?(await d)():d;let m={meta:{views:0,shares:0,reactions:0,reactionsDetail:{CLAPPING:0,THINKING:0,AMAZED:0}},metaUser:{reactionsDetail:{CLAPPING:0,THINKING:0,AMAZED:0}},metaSection:{}};function useInsight({slug:e,contentType:t,contentTitle:a,countView:s=!0}){let i=(0,l.useRef)({CLAPPING:null,THINKING:null,AMAZED:null}),d=(0,l.useRef)({CLAPPING:0,THINKING:0,AMAZED:0}),{isLoading:x,data:h,mutate:u}=(0,r.default)(`/api/content/${e}`,c.Z,{fallbackData:m});return(0,l.useEffect)(()=>{s&&(0,o.CT)({slug:e,contentType:t,contentTitle:a})},[e,t,a,s]),{isLoading:x,data:h,addShare:({type:s})=>{u(n()({},h,{meta:{shares:h.meta.shares+1}}),!1),(0,o._)({slug:e,contentType:t,contentTitle:a,type:s})},addReaction:({type:s,section:l})=>{u(n()({},h,{meta:{reactions:h.meta.reactions+1,reactionsDetail:{[s]:h.meta.reactionsDetail[s]+1}},metaUser:{reactionsDetail:{[s]:h.metaUser.reactionsDetail[s]+1}}}),!1),d.current[s]+=1,clearTimeout(i.current[s]),i.current[s]=setTimeout(()=>{(0,o.CB)({slug:e,contentType:t,contentTitle:a,type:s,count:d.current[s],section:l}).finally(()=>{d.current[s]=0})},500)}}}s()}catch(e){s(e)}})}};